<html>
<HEAD>
	<title>My Calculator</title>
	<link rel="stylesheet" type="text/css" href="menubutton.css">
	<style type="text/css">
        #calculator {
            font-size: 0;
            width: 486px;
            height: 864px;
            background-color: #484848;
            padding: 10px;
            margin: auto;
            border-radius: 10px;           
        }

        #latex {
        	margin-bottom:15px;
        	width: 470px;
        	height: 100px;
        	background-color: #C1C1C1;
        	padding: 0px 10px 0px 5px;
        	display:inline-flex; 
        	justify-content:flex-end;
        	align-items:center;
        	overflow:hidden;
        	box-shadow:inset 0 0px 5px;
        	font: 30px digital;
        }

        #input {
        	margin-bottom:45px;
        	width: 350px;
        	height: 50px;
        	background-color: #C1C1C1;
        	padding: 10px 10px 0px 0px;
        	margin-left:40px;
        	display:inline-flex;
        	justify-content:flex-end;
        	overflow:hidden;
        	box-shadow:inset 0 0px 5px;
        	font: 25px digital;
        }

        #result {
        	margin-bottom:15px;
        	width: 470px;
        	height: 100px;
        	background-color: #C1C1C1;
        	padding: 0px 10px 0px 5px;
        	display:inline-flex;
        	justify-content: flex-end;
        	align-items:center;
        	overflow:hidden;
        	box-shadow:inset 0 0px 5px;
        	font: 30px digital;
        }
		#container{width:160px;height:59px;margin:0 auto;border:1px solid #000;padding:5px 0 0 5px;border-radius:20px;background-color:#707070;-webkit-box-shadow: 0 0 10px 5px #292929;box-shadow: 0 0 10px 5px #292929; }
		.black{width:51px;height:40px;display:inline-flex;padding-top:10px;border:1px solid #FFF;background: #808080;font-size:20px;font-family:arial;color:#ddd;align-items:center;justify-content: center; margin-right:0px;margin-left:7px; margin-bottom:10px; box-shadow: 0 3px 0 #a1a1a1, 0 2px 5px rgba(0, 0, 0, .75);
	background: -moz-linear-gradient(top, #808080 0%, #050505 100%);
	background: -webkit-gradient(left top, left bottom, color-stop(0%, #808080), color-stop(100%, #050505));
	background: -webkit-linear-gradient(top, #808080 0%, #050505 100%);
	background: -o-linear-gradient(top, #808080 0%, #050505 100%);
	background: -ms-linear-gradient(top, #808080 0%, #050505 100%);
	background: linear-gradient(to bottom, #808080 0%, #050505 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#808080', endColorstr='#050505', GradientType=0 )}
	
		.black:active{background: #606060 ;-webkit-box-shadow:inset 2px 2px 10px 5px #000000;box-shadow:inset 2px 2px 10px 5px #000000;font-size:20px;padding-top:10px;height:40px;}

		.symbol-black {
            font: italic 18px "Times New Roman"
        }
        .red-black{
        	color:red;
        }

        .function-black {
            font: italic 15px "Times New Roman"
        }
        .number{width:51px;height:40px;display:inline-flex;padding-top:10px;border:1px solid #FFF;background: #FFFFFF;font-size:20px;font-family:arial;color:black;align-items:center;justify-content: center; margin-right:0px;margin-left:7px; margin-bottom:10px; box-shadow: 0 3px 0 #a1a1a1, 0 2px 5px rgba(0, 0, 0, .75);
        	background: -moz-linear-gradient(top, #FFFFFF 0%, #ff5964 100%);
	background: -webkit-gradient(left top, left bottom, color-stop(0%, #FFFFFF), color-stop(100%, #050505));
	background: -webkit-linear-gradient(top, #FFFFFF 0%, #ff5964 100%);
	background: -o-linear-gradient(top, #FFFFFF 0%, #ff5964 100%);
	background: -ms-linear-gradient(top, #FFFFFF 0%, #ff5964 100%);
	background: linear-gradient(to bottom, #FFFFFF 0%, #ff5964 100%);
        }
        .number:active{background: #ff5964 ;-webkit-box-shadow:inset 2px 2px 10px 5px #FF9CA3;box-shadow:inset 2px 2px 10px 5px #BC424A;font-size:20px;padding-top:10px;height:40px;}

        }

        .enter{

        }

</style>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js' type='text/javascript'></script>
    <script src='math.js' type='text/javascript'></script>

    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>  

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          "HTML-CSS": { scale: 75}
        });
    </script>
      
    <script type="text/javascript">
        $(document).ready(function(){
            var parser = math.parser();

            var displayValue = '0';
            $('#input').text(displayValue);
            $('#latex').html('$$' + math.parse(displayValue).toTex() + '$$');
 
            $('.enter').each(function(index, black){       
                $(this).click(function(e){
                    if(displayValue == '0') displayValue = '';
                    if($(this).text() == 'EV')
                    {
                        try
                        {
                        	displayValue = parser.eval(displayValue).toString();
                            var tokens = displayValue.split(' ');
                            if(tokens[0] == 'function')
                            {
                                displayValue = tokens[0];
                            }

                        }
                        catch (e)
                        {
                            displayValue = '0';
                            if(displayValue != 'function')
                            {
                                alert(e);
                            }
                            $('#input').text(displayValue);       

                        }               
                        finally
                        { 
                        	$('#result').text(displayValue);
                        	var node = math.parse(displayValue);
                            var latex = node.toTex({parenthesis: 'keep', implicit: 'hide'});
                    	  	var elem = MathJax.Hub.getAllJax('latex')[0];
                      		MathJax.Hub.Queue(['Text', elem, latex]);                         
                            displayValue = '0';                  
                        }
                    }
                    else
                    {
                        if($(this).text() == 'CL')
                        {
                            displayValue = '0';
                            $('#input').text(displayValue);
                            $('#result').text(displayValue);
                        }
                        else if($(this).text() == 'DEL')
                        {
                        	displayValue=displayValue.substring(0,displayValue.length-1);
                        	if(displayValue.length==0)
                        		displayValue='0';
                        	$('#input').text(displayValue);
                        }
                        else if($(this).text() == 'Basic')
                        {

                        }
                        else if($(this).text() == 'Vector')
                        {

                        }
                        else if($(this).text() == 'Array')
                        {

                        }
                        else
                        {             
                        	displayValue += $(this).text();                        	
                            $('#input').text(displayValue);
                        }

                        var node = math.parse(displayValue);
                        var latex = node.toTex({parenthesis: 'keep', implicit: 'hide'});
                        var elem = MathJax.Hub.getAllJax('latex')[0];
                        MathJax.Hub.Queue(['Text', elem, latex]);                      
                    }
                    e.preventDefault()
                })
            })
        })
    </script>
</HEAD>

<BODY>
	<div id="calculator">
		<div id="latex"></div>
		<button class="enter bttn-fill bttn-lg bttn-danger">Basic</button>
		<button class="enter bttn-fill bttn-lg bttn-danger">Vector</button>
		<button class="enter bttn-fill bttn-lg bttn-danger">Array</button>
		<a href=Manual.html target=_blank><button class="bttn-fill bttn-lg bttn-danger">Manual</button>	</a>
		<div id="input"></div>
		<button class="enter bttn-fill bttn-xs bttn-danger">EV</button>
		<div id="result"></div>
		<div class="enter black symbol-black">f</div>
		<div class="enter black symbol-black">g</div>
		<div class="enter black symbol-black">i</div>
		<div class="enter black">*</div>
		<div class="enter black">cross</div>
		<div class="enter black function-black">inv</div>
		<div class="enter black function-black">det</div>
		<div class="enter black">^</div>

		<div class="enter black symbol-black">w</div>
		<div class="enter black symbol-black">x</div>
		<div class="enter black symbol-black">y</div>
		<div class="enter black symbol-black">z</div>
		<div class="enter black red-black">CL</div>
		<div class="enter black">%</div>
		<div class="enter black red-black">DEL</div>
		<div class="enter black">/</div>

		<div class="enter black function-black">sqrt</div>
		<div class="enter black"><</div>
		<div class="enter black">></div>
		<div class="enter black function-black">sin</div>
		<div class="enter number">7</div>
		<div class="enter number">8</div>
		<div class="enter number">9</div>
		<div class="enter black">*</div>

		<div class="enter black function-black">log</div>
		<div class="enter black"><=</div>
		<div class="enter black">>=</div>
		<div class="enter black function-black">cos</div>
		<div class="enter number">4</div>
		<div class="enter number">5</div>
		<div class="enter number">6</div>
		<div class="enter black">-</div>

		<div class="enter black symbol-black">pi</div>
		<div class="enter black">==</div>
		<div class="enter black">!=</div>
		<div class="enter black function-black">tan</div>
		<div class="enter number">1</div>
		<div class="enter number">2</div>
		<div class="enter number">3</div>
		<div class="enter black">+</div>

		<div class="enter black symbol-black">e</div>
		<div class="enter black">[</div>
		<div class="enter black">]</div>
		<div class="enter black">(</div>
		<div class="enter black">)</div>
		<div class="enter number">0</div>
		<div class="enter black">.</div>
		<div class="enter black">=</div>

		<div class="enter black">,</div>
		<div class="enter black">:</div>
		<div class="enter black">;</div>
</div>
</BODY>
</html>

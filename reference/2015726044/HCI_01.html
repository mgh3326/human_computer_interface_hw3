<!DOCTYPE html>
<html>
        <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js></script>
            <script src="math.js" type="text/javascript"></script> 
            </head>
    <body>
        
        <input type = "hidden", id = "hide_txt"/>
        <style>
            input{
                font-size: 2em;
                width:100%;
                height:100%;
            }
            button{
                font-size: 2m;
                width: 1cm;
                height: 1cm;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script> 
        <center>
            <table style="background: black" >
                <tr >
                    <td colspan="2">
                        <input class = "display1" type="text" style="width:415px; height:30px; font-size: 0.5cm; border: 0;background: black;color:white"  name="Display" >
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <input class = "display" type="text" style="width:415px; height:40px;font-size: 0.8cm;border: 0;background: black;color:white" size="10" name="Display">
                    </td>
                </tr>
                <tr>
                    <td>
                        <table style="font-size: 7px" >
                            <tr>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="=" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">=</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="<"style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white"><</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value=">" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">></td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="!" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">!</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="%" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">%</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="sqrt" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">²√</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="cbrt"style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">³√</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="exp" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">e^</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="[" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">[</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="]" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">]</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="number2" type="button" value="PI" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">π</td>
                                <td><button class="calc_btn" data-role ="number2" type="button" value="E"style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">e</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="log" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">ln</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="log2" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">log2</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="log10" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">log10</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="operator3" type="button" value="sin" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">sin</td>
                                <td><button class="calc_btn" data-role ="operator3" type="button" value="cos"style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">cos</td>
                                <td><button class="calc_btn" data-role ="operator3" type="button" value="tan" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">tan</td>
                                <td><button class="calc_btn" data-role ="operator4" type="button" value="asin" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">asin</td>
                                <td><button class="calc_btn" data-role ="operator4" type="button" value="acos" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">acos</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="operator3" type="button" value="f" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">f(x)</td>
                                <td><button class="calc_btn" data-role ="operator3" type="button" value="g"style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">g(x)</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="x" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">x</td>
                                <td><button class="calc_btn" data-role ="operator2" type="button" value="pow" style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">pow</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="," style="border-radius:5px;width :1.2cm; background-color:#7f7f7f;border:#7f7f7f;color:white">,</td>
                            </tr>        
                        </table>
                    </td>
                    <td>
                        
                        <table>
                            <tr>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="+"style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">＋</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="-"style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">－</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="*"style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">×</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="/"style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">÷</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="number" type="button" value="7"style="border-radius:5px;width :1.2cm;border:white">7</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="8"style="border-radius:5px;width :1.2cm;border:white">8</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="9"style="border-radius:5px;width :1.2cm;border:white">9</td>
                                <td><button class="clear_btn"  type="button" value="c"style="width :1.2cm;border-radius:5px;background-color:#9fb1d9;font-size:0.5cm;border:#9fb1d9; color:white">c</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="number" type="button" value="4"style="border-radius:5px;width :1.2cm;border:white">4</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="5"style="border-radius:5px;width :1.2cm;border:white">5</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="6"style="border-radius:5px;width :1.2cm;border:white">6</td>
                                <td><button class="clear_back_btn" type="button" value="◀"style="width :1.2cm;border-radius:5px;background-color:#9fb1d9;font-size:0.35cm;border:#9fb1d9; color:white">◀</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="number" type="button" value="1"style="border-radius:5px;width :1.2cm;border:white">1</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="2"style="border-radius:5px;width :1.2cm;border:white">2</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="3"style="border-radius:5px;width :1.2cm;border:white">3</td>
                                <td><button class="calc_btn" data-role ="operator1" type="button" value="."style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">.</td>
                            </tr>
                            <tr>
                                <td><button class="calc_btn" data-role ="number" type="button" value="0"style="border-radius:5px;width :1.2cm;border:white">0</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value="("style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">(</td>
                                <td><button class="calc_btn" data-role ="number" type="button" value=")"style="border-radius:5px;width :1.2cm;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">)</td>
                                <td><button class="calculate_btn"  type="button" value="EV" style="width :1.2cm;border-radius:5px;font-size:0.5cm;background-color:#9fb1d9;border:#9fb1d9; color:white">EV</td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </center>

        <script type="text/javascript">

            var op_hide;
            var op_display;
            $(".calc_btn").on('click',function(){   
                if($(this).attr('data-role')=='number'){ 
                    op_display = $(this).val();
                    op_hide =  $(this).val();
                    $(".display").val($(".display").val()+$(this).val());
                    $("#hide_txt").val($("#hide_txt").val()+$(this).val());
                }
                else if($(this).attr('data-role')=='number2'){  //pi,e
                    op_display = $(this).text();
                    op_hide = "Math."+$(this).val();
                    $(".display").val($(".display").val()+$(this).text());
                    $("#hide_txt").val($("#hide_txt").val()+"Math."+$(this).val());
                }
                else if($(this).attr('data-role')=='operator2'){    //pow log sqrt
                    op_display = $(this).text()+"(";
                    op_hide = "Math."+$(this).val()+"(";
                    $(".display").val($(".display").val()+ $(this).text()+"(");
                    $("#hide_txt").val($("#hide_txt").val()+"Math."+$(this).val()+"(");
                }
                else if($(this).attr('data-role')=='operator3'){    //sin cos tan
                    op_display = $(this).text()+"(";
                    op_hide = "Math."+$(this).val()+"((Math.PI / 180.0) *";
                    $(".display").val($(".display").val()+ $(this).val()+"(");
                    $("#hide_txt").val($("#hide_txt").val()+"Math."+$(this).val()+"((Math.PI / 180.0) *");
                }
                else if($(this).attr('data-role')=='operator4'){  //asin acos
                    op_display = $(this).text()+"(";
                    op_hide = "(180.0 / Math.PI) *"+"Math."+$(this).val()+"(";
                    $(".display").val($(".display").val()+ $(this).val()+"(");
                    $("#hide_txt").val($("#hide_txt").val()+"(180.0 / Math.PI) *"+"Math."+$(this).val()+"(");
                }
                else if($(this).attr('value')=='-'){
                    op_display = $(this).val();
                    op_hide = $(this).val();
                    $(".display").val($(".display").val()+$(this).val());
                    $("#hide_txt").val($("#hide_txt").val()+$(this).val());
                }
                
                else{
                    if($(".display").val()!=''){
                        op_display = $(this).text();
                        op_hide = $(this).val();
                        $(".display").val($(".display").val()+$(this).text());
                        $("#hide_txt").val($("#hide_txt").val()+$(this).val());
                    }
                }
            });
            $(".clear_btn").on('click',function(){
                $(".display").val('');
                $("#hide_txt").val('');
            });
            $(".clear_back_btn").on('click',function(){
                var num = $(".display").val();
                $(".display").val(num.substring(0,num.length-op_display.length));
                var num1 = $("#hide_txt").val();
                $("#hide_txt").val(num1.substring(0,num1.length-op_hide.length));
            });
            $(".calculate_btn").on('click',function(){
                try
                {
                    var expression = $("#hide_txt").val();
                    if(eval(expression)=="6.123233995736766e-17"){
                        expression=0;
                    }
                    $(".display1").val($(".display").val()+"="+eval(expression));
                    $(".display").val(eval(expression));
                    $("#hide_txt").val(eval(expression));
                }
                catch (e)
                {
                        $('.display').val(e);
                }
                        
            });
            
        </script>
    </body>
</html>